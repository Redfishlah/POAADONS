<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--the string on the tag-->
    <title>R13921A20 Sam</title>
    <!--tag's photo-->
    <link rel="icon" href="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0e/Los_Angeles_Dodgers_Logo.svg/1200px-Los_Angeles_Dodgers_Logo.svg.png" sizes="32x32">
    <!-- use css -->
    <link rel="stylesheet" href="./main.css">
</head>
<body class="bgSet" >    
    <div class='top-div'>
        <div>
        <h1>Watch the clip then roll down</h1>
        <input type="button" value="Let's go Dodgers" onclick="location.href='https:\/\/www.youtube.com/shorts/FsD2y81H1R8'" title="Arron Judge"></input>
        </div>
    </div>
    <div class='second-div'>
        <div class='sub2-div'>
            <h2> PRACTICUM OF ATTACK AND DEFENSE OF NETWORK SECURITY <br><br>
                 R13921A20, Sam Lee, who likes to play baseball. <br><br>
                 A rookie of attack and defense of network security. <br>
                 Please leave my web alone, don't destroy it, thank you. <br><br>
                 Contact: Leave a message below.
            </h2>
        </div>
        <div class='sub2-div'>
            <img src="./Romance.png" class = 'pic'alt="Self photo" />
        </div>
    </div>
    <div class = 'second-div'>
        <div class='sub2-div'>
            <label for="name">Name:</label>
            <input type="text" id="name" class = 'input2' placeholder="Your name">
        
            <label for="message">Message:</label>
            <input type="text" id="message" class = 'input2' placeholder="Leave a message.">
        
            <button class = 'input2' onclick="addMessage()">Submit</button>
        </div>   

        <div class='sub2-div'>
            <div id="board">
                <h2>Messages:</h2>
            </div>
        </div>
    </div>
    <div class='second-div'>
        <p>How many visitors now: <span id="visitorCount">0</span></p>
    </div>
    <script>
       function updateVisitorCount(change) {
            let visitorCount = parseInt(sessionStorage.getItem("onlineUsers") || "0");
            visitorCount += change;
            sessionStorage.setItem("onlineUsers", visitorCount);
            document.getElementById("visitorCount").textContent = visitorCount;
        }

        window.addEventListener("load", () => updateVisitorCount(1));
        window.addEventListener("beforeunload", () => updateVisitorCount(-1));

        function addMessage() {
            const name = document.getElementById("name").value.trim();
            const message = document.getElementById("message").value.trim();
            if (!name || !message) {
                alert("Please insert your name and a message to me :)");
                return;
            }
            const board = document.getElementById("board");
            const messageDiv = document.createElement("div");
            messageDiv.className = "message";
            messageDiv.innerHTML = `<span class="name">${name}:</span> ${message}`;
            board.appendChild(messageDiv);
            document.getElementById("name").value = "";
            document.getElementById("message").value = "";
        }
    </script>
</body>
</html>